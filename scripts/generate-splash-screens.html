<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Generate iOS Splash Screens</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
    }
    h1 { color: #1C4E80; }
    .info { background: #f0f4f8; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
    button {
      background: #3b82f6;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      margin: 5px;
    }
    button:hover { background: #2563eb; }
    #status { margin-top: 20px; }
    .size-item { padding: 5px 0; border-bottom: 1px solid #eee; }
    canvas { display: none; }
  </style>
</head>
<body>
  <h1>iOS Splash Screen Generator</h1>

  <div class="info">
    <p>This tool generates splash screen images for iOS PWA support.</p>
    <p>Click the button below to generate and download all required sizes.</p>
  </div>

  <button onclick="generateAll()">Generate All Splash Screens</button>

  <div id="status"></div>
  <canvas id="canvas"></canvas>

  <h3>Required Sizes:</h3>
  <div id="sizes"></div>

  <script>
    const sizes = [
      { name: 'apple-splash-1290-2796', width: 1290, height: 2796, label: 'iPhone 15 Pro Max' },
      { name: 'apple-splash-1179-2556', width: 1179, height: 2556, label: 'iPhone 15 Pro' },
      { name: 'apple-splash-1170-2532', width: 1170, height: 2532, label: 'iPhone 14/13/12' },
      { name: 'apple-splash-828-1792', width: 828, height: 1792, label: 'iPhone 11/XR' },
      { name: 'apple-splash-750-1334', width: 750, height: 1334, label: 'iPhone SE' },
      { name: 'apple-splash-2048-2732', width: 2048, height: 2732, label: 'iPad Pro 12.9"' },
      { name: 'apple-splash-1668-2388', width: 1668, height: 2388, label: 'iPad Pro 11"' },
      { name: 'apple-splash-1640-2360', width: 1640, height: 2360, label: 'iPad Air/Mini' },
    ];

    // Display sizes
    document.getElementById('sizes').innerHTML = sizes.map(s =>
      `<div class="size-item">${s.label}: ${s.width}x${s.height}</div>`
    ).join('');

    // Brand colors
    const BRAND_BG = '#1C4E80';
    const BRAND_ACCENT = '#F28B40';
    const ICON_GREEN_LIGHT = '#34D399';
    const ICON_GREEN_DARK = '#10B981';

    function drawSplash(ctx, width, height) {
      // Background gradient
      const gradient = ctx.createLinearGradient(0, 0, 0, height);
      gradient.addColorStop(0, '#1e3a5f');
      gradient.addColorStop(1, BRAND_BG);
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, width, height);

      // Calculate icon size (about 20% of smaller dimension)
      const iconSize = Math.min(width, height) * 0.2;
      const centerX = width / 2;
      const centerY = height / 2;

      // Draw outer circle with border
      ctx.beginPath();
      ctx.arc(centerX, centerY, iconSize * 0.92, 0, Math.PI * 2);
      ctx.fillStyle = BRAND_BG;
      ctx.fill();
      ctx.strokeStyle = BRAND_ACCENT;
      ctx.lineWidth = iconSize * 0.047;
      ctx.stroke();

      // Draw pin (left half - lighter green)
      ctx.beginPath();
      ctx.moveTo(centerX, centerY + iconSize * 0.76);
      ctx.bezierCurveTo(
        centerX - iconSize * 0.49, centerY + iconSize * 0.16,
        centerX - iconSize * 0.49, centerY - iconSize * 0.49,
        centerX, centerY - iconSize * 0.66
      );
      ctx.lineTo(centerX, centerY + iconSize * 0.76);
      ctx.fillStyle = ICON_GREEN_LIGHT;
      ctx.fill();

      // Draw pin (right half - darker green)
      ctx.beginPath();
      ctx.moveTo(centerX, centerY + iconSize * 0.76);
      ctx.bezierCurveTo(
        centerX + iconSize * 0.49, centerY + iconSize * 0.16,
        centerX + iconSize * 0.49, centerY - iconSize * 0.49,
        centerX, centerY - iconSize * 0.66
      );
      ctx.lineTo(centerX, centerY + iconSize * 0.76);
      ctx.fillStyle = ICON_GREEN_DARK;
      ctx.fill();

      // Draw inner circle
      ctx.beginPath();
      ctx.arc(centerX, centerY - iconSize * 0.13, iconSize * 0.28, 0, Math.PI * 2);
      ctx.fillStyle = 'rgba(15, 91, 91, 0.8)';
      ctx.fill();

      // Draw checkmark
      ctx.beginPath();
      ctx.moveTo(centerX - iconSize * 0.14, centerY - iconSize * 0.13);
      ctx.lineTo(centerX - iconSize * 0.05, centerY - iconSize * 0.04);
      ctx.lineTo(centerX + iconSize * 0.14, centerY - iconSize * 0.22);
      ctx.strokeStyle = 'white';
      ctx.lineWidth = iconSize * 0.08;
      ctx.lineCap = 'round';
      ctx.lineJoin = 'round';
      ctx.stroke();

      // Draw app name
      ctx.fillStyle = 'white';
      ctx.font = `600 ${iconSize * 0.22}px -apple-system, BlinkMacSystemFont, sans-serif`;
      ctx.textAlign = 'center';
      ctx.fillText('See Every Place', centerX, centerY + iconSize * 1.2);
    }

    async function generateAll() {
      const status = document.getElementById('status');
      status.innerHTML = '<p>Generating splash screens...</p>';

      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');

      for (const size of sizes) {
        canvas.width = size.width;
        canvas.height = size.height;

        drawSplash(ctx, size.width, size.height);

        // Convert to blob and download
        const blob = await new Promise(resolve => canvas.toBlob(resolve, 'image/png'));
        const url = URL.createObjectURL(blob);

        const a = document.createElement('a');
        a.href = url;
        a.download = `${size.name}.png`;
        a.click();

        URL.revokeObjectURL(url);

        status.innerHTML += `<p>âœ“ Generated ${size.name}.png</p>`;

        // Small delay between downloads
        await new Promise(r => setTimeout(r, 300));
      }

      status.innerHTML += '<p><strong>Done! Move the downloaded files to public/files/splash/</strong></p>';
    }
  </script>
</body>
</html>
